(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return E}));var n=a(113),r=a(1),c=a.n(r),l=a(8),s=a(19),i=a(0),o=a.n(i),m=a(7),u=a(195),d=a.n(u),f=a(18),b=a(57),p=a(2);function h(e,t,a,r){var u=Object(i.useState)([]),h=Object(s.a)(u,2),E=h[0],g=h[1],v=Object(i.useState)(!0),y=Object(s.a)(v,2),w=y[0],N=y[1],x=function(){var t=Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=p.f,t.next=3,e._near.contract.get_global_stats();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=Object(f.a)("global_stats",x,{errorRetryInterval:250}).data,_=E&&E.length>0?E[E.length-1]:null,I=Object(f.a)([t,_],a,{errorRetryInterval:250}).data,O=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:(t=Object(n.a)(E)).push.apply(t,Object(n.a)(I)),0===I.length&&N(!1),g(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=E&&E.map((function(t){var a=Object(s.a)(t,2),n=(a[0],a[1]);return o.a.createElement(b.a,Object.assign({},e,{key:n,bidId:n}))}));return k?o.a.createElement("div",{className:"pb-3"},o.a.createElement("div",{className:"container g-0 px-5"},o.a.createElement("div",{className:"d-flex flex-row bd-highlight mb-3"},o.a.createElement("div",{className:"py-2 bd-highlight"},r?o.a.createElement("h5",null,o.a.createElement(m.b,{className:"navigate",to:"/bets"},"Active bids (",k.numBids,")")):o.a.createElement("h5",{className:"nonavigate"},"Active bids (",k.numBids,")")),o.a.createElement("div",{className:"p-2 bd-highlight"}),o.a.createElement("div",{className:"p-2 bd-highlight"},r?o.a.createElement("h5",{className:"nonavigate"},"On claim (",k.numBidsOnClaim||"0",")"):o.a.createElement("h5",null,o.a.createElement(m.b,{className:"navigate",to:"/claims"},"On claim (",k.numBidsOnClaim||"0",")"))))),o.a.createElement("div",{className:"container g-0 px-5"},o.a.createElement(d.a,{loadMore:O,hasMore:w,loader:Object(p.c)()},A))):Object(p.c)()}function E(e){var t=function(){var t=Object(l.a)(c.a.mark((function t(){var a=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._near.contract.get_top_bets({from_key:a.length<=1?void 0:a[1],limit:25});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return h(e,"get_top_bets",t,!1)}function g(e){var t=function(){var t=Object(l.a)(c.a.mark((function t(){var a=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._near.contract.get_top_claims({from_key:a.length<=1?void 0:a[1],limit:25});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return h(e,"get_top_claims",t,!0)}},191:function(e,t,a){"use strict";(function(e){var n=a(210),r=a(1),c=a.n(r),l=a(8),s=a(192),i=a(193),o=a(211),m=a(209),u=a(0),d=a.n(u),f=(a(116),a(238),a(248),a(249),a(250),a(30)),b=a(194),p=a.n(b),h=a(7),E=a(5),g=a(35),v=a.n(g),y=a(107),w=a(197),N=a(198),x=a(199),k=a(200),_=a(201),I=a(212),O=a(202),A="near.bet"===window.location.hostname?{accountSuffix:"near",networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:"c.nearbet.near",walletUrl:"https://wallet.near.org",marketPublicKey:"ed25519:5mgNVstFy67S469tG2j8MjRchPuKqJFYsydghKRteR42",wasmCode:"https://near.bet/bin",claimPeriod:259200}:{accountSuffix:"testnet",networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:"dev-1616355537428-9726228",walletUrl:"https://wallet.testnet.near.org",marketPublicKey:"ed25519:EgmA4v9E2SjFVu31bmJKJtNW6cjkx2cbM3HyXprsYvrA",wasmCode:"https://near.bet/bin",claimPeriod:900},j=function(t){Object(o.a)(r,t);var a=Object(m.a)(r);function r(e){var t;return Object(s.a)(this,r),(t=a.call(this,e))._near={},t._near.lsKey=A.contractName+":v01:",t._near.lsOfferAccountId=t._near.lsKey+"offerAccountId",t._near.lsFavorAccountId=t._near.lsKey+"favorAccountId",t._near.lsPrevKeys=t._near.lsKey+"prevKeys",t._near.config=A,t._near.marketPublicKey=A.marketPublicKey,t._near.accountSuffix=A.accountSuffix,t._near.claimPeriod=A.claimPeriod,t.state={connected:!1,account:null},t._initNear().then((function(){t.setState({signedIn:!!t._near.accountId,signedAccountId:t._near.accountId,connected:!0})})),t}return Object(i.a)(r,[{key:"_initNear",value:function(){var t=Object(l.a)(c.a.mark((function t(){var a,n,r,s,i,o,m,u,d,b,p,h,E,g,y=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new f.keyStores.BrowserLocalStorageKeyStore,t.next=3,f.connect(Object.assign({deps:{keyStore:a}},A));case 3:if(n=t.sent,this._near.keyStore=a,this._near.near=n,this._near.walletConnection=new f.WalletConnection(n,A.contractName),this._near.accountId=this._near.walletConnection.getAccountId(),this._near.account=this._near.walletConnection.account(),this._near.contract=new f.Contract(this._near.account,A.contractName,{viewMethods:["get_profile","get_bid","get_top_bets","get_top_claims","get_global_stats"],changeMethods:["offer","bet","claim","finalize","acquire","collect_rewards"]}),this._near.logOut=function(){y._near.walletConnection.signOut(),y._near.accountId=null,y.setState({signedIn:!!y._accountId,signedAccountId:y._accountId})},this._near.refreshAllowance=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("You're out of access key allowance. Need sign in again to refresh it"),e.next=3,y.logOut();case 3:return e.next=5,y.requestSignIn();case 5:case"end":return e.stop()}}),e)}))),!this._near.accountId){t.next=98;break}return t.next=15,this._near.account.getAccessKeys();case 15:if(r=t.sent,s=!1,r.forEach((function(e){e.public_key===y._near.marketPublicKey&&(s=!0)})),i=v.a.get(this._near.lsOfferAccountId),o=v.a.get(this._near.lsFavorAccountId),s){t.next=98;break}return t.prev=21,t.next=24,this._near.near.account(this._near.accountId);case 24:return m=t.sent,t.next=27,m.addKey(this._near.marketPublicKey,void 0,void 0,0);case 27:if(this._near.accountId===i){t.next=34;break}return t.next=30,m.deleteKey(this._near.marketPublicKey);case 30:console.log("wrong account"),this.setState({offerFinished:!0,offerSuccess:!1}),t.next=91;break;case 34:return t.next=36,this._near.walletConnection._keyStore.getKey(A.networkId,this._near.accountId);case 36:u=t.sent.getPublicKey().toString(),console.log("all keys",r),console.log("all local keys",this._near.walletConnection._authData.allKeys),console.log("last key",u),d=0;case 41:if(!(d<r.length)){t.next=50;break}if(u===r[d].public_key){t.next=47;break}return console.log("deleting ",r[d]),t.next=46,m.deleteKey(r[d].public_key);case 46:console.log("deleting ",r[d],"done");case 47:d++,t.next=41;break;case 50:return t.next=52,this._near.contract.offer({profile_id:o},"200000000000000",String(parseInt(3e8))+"000000000000000");case 52:return b=t.sent,console.log("offer result",b),t.next=56,m.state();case 56:return p=t.sent,console.log(p),t.next=60,fetch(A.wasmCode);case 60:return h=t.sent,console.log("!",h),t.next=64,h.arrayBuffer();case 64:return E=t.sent,t.next=67,m.deployContract(new Uint8Array(E));case 67:return t.next=69,new f.Contract(m,this._near.accountId,{viewMethods:[],changeMethods:["lock"],sender:this._near.accountId});case 69:return g=t.sent,console.log("Deploying done. Initializing contract..."),t.t0=console,t.next=74,g.lock(e.from('{"owner_id":"'+A.contractName+'"}'));case 74:return t.t1=t.sent,t.t0.log.call(t.t0,t.t1),console.log("Init is done."),t.t2=console,t.next=80,m.state();case 80:return t.t3=t.sent.code_hash,t.t2.log.call(t.t2,"code hash",t.t3),console.log("deleting marketplace key",this._near.marketPublicKey),t.next=85,m.deleteKey(this._near.marketPublicKey);case 85:return console.log("deleting ",this._near.marketPublicKey,"done"),console.log("deleting last key",u),t.next=89,m.deleteKey(u);case 89:console.log("deleting ",u,"done"),this.setState({offerFinished:!0,offerSuccess:!0});case 91:this._near.logOut(),t.next=98;break;case 94:t.prev=94,t.t4=t.catch(21),this.setState({offerFinished:!0,offerSuccess:!1}),console.log("Error",t.t4);case 98:case"end":return t.stop()}}),t,this,[[21,94]])})));return function(){return t.apply(this,arguments)}}()},{key:"requestSignIn",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),"Accounts Marketplace",e.next=4,this._near.walletConnection.requestSignIn(A.contractName,"Accounts Marketplace");case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(n.a)({_near:this._near,refreshAllowance:function(){return e._near.refreshAllowance()}},this.state),a=this.state.connected?this.state.signedIn?d.a.createElement("div",null,d.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return e._near.logOut()}},"Sign out (",this.state.signedAccountId,")")):d.a.createElement("div",null,d.a.createElement("button",{className:"btn btn-warning",onClick:function(t){return e.requestSignIn(t)}},"Sign in with NEAR Wallet")):d.a.createElement("div",null,"Connecting... ",d.a.createElement("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}));return d.a.createElement("div",{className:"App text-white",style:{backgroundColor:"#2F2F2F"}},d.a.createElement(h.a,{basename:""},d.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark mb-3",style:{backgroundColor:"#2F2F2F"}},d.a.createElement("div",{className:"container-fluid"},d.a.createElement(h.b,{className:"navbar-brand",to:"/",title:"near.bet"},d.a.createElement("img",{src:p.a,alt:"NEAR Accounts Marketplace",className:"d-inline-block align-middle",style:{opacity:.85}}),"[BETA] Marketplace"),d.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},d.a.createElement("span",{className:"navbar-toggler-icon"})),d.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},d.a.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"},d.a.createElement("li",{className:"nav-item"},d.a.createElement(h.b,{className:"nav-link","aria-current":"page",to:"/bets"},"Market")),this.state.signedIn&&d.a.createElement("li",{className:"nav-item"},d.a.createElement(h.b,{className:"nav-link","aria-current":"page",to:"/profile/".concat(this.state.signedAccountId)},"Profile")),d.a.createElement("li",{className:"nav-item"},d.a.createElement(h.b,{className:"nav-link","aria-current":"page",to:"/offer"},"Offer")),d.a.createElement("li",{className:"nav-item"},d.a.createElement(h.b,{className:"nav-link","aria-current":"page",to:"/rules"},"Rules"))),d.a.createElement("form",{className:"d-flex"},a)))),d.a.createElement(E.c,null,d.a.createElement(E.a,{exact:!0,path:"/"},d.a.createElement(O.a,t)),d.a.createElement(E.a,{exact:!0,path:"/bets"},d.a.createElement(y.a,t)),d.a.createElement(E.a,{exact:!0,path:"/claims"},d.a.createElement(y.b,t)),d.a.createElement(E.a,{exact:!0,path:"/rules"},d.a.createElement(x.a,t)),d.a.createElement(E.a,{exact:!0,path:"/offer"},d.a.createElement(w.a,t)),d.a.createElement(E.a,{exact:!0,path:"/offerProcess"},d.a.createElement(N.a,t)),d.a.createElement(E.a,{exact:!0,path:"/profile/:profileId"},d.a.createElement(k.a,t)),d.a.createElement(E.a,{exact:!0,path:"/bid/:bidId"},d.a.createElement(I.a,t)),d.a.createElement(E.a,{exact:!0,path:"/acquire/:bidId"},d.a.createElement(_.a,t)))))}}]),r}(d.a.Component);t.a=j}).call(this,a(6).Buffer)},194:function(e,t,a){e.exports=a.p+"static/media/logo.485b5e4c.png"},197:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(8),l=a(19),s=a(0),i=a.n(s),o=a(35),m=a.n(o),u=a(2);t.a=function(e){var t=e._near.accountSuffix,a=Object(s.useState)(!0),n=Object(l.a)(a,2),o=n[0],d=n[1];function f(){return(f=Object(c.a)(r.a.mark((function t(a){var n,c,l,s,i,o,f,b,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),d(!1),n="Accounts Marketplace",e.signedIn&&e._near.logOut(),!e.connected){t.next=54;break}if(c="."+e._near.accountSuffix,l=document.getElementById("offerInput").value,s=document.getElementById("rewardsInput").value,l&&s){t.next=12;break}throw alert("Account(s) are empty"),d(!0),console.error("Account(s) are empty");case 12:if(!(l.length>=64||s.length>=64)){t.next=16;break}throw alert("Implicit accounts (64 symbols) cannot be used"),d(!0),console.error("Implicit accounts (64 symbols) cannot be used");case 16:if(i=l.endsWith(c)?l:l+c,o=s.endsWith(c)?s:s+c,console.log("offerAccountId",i),console.log("favorAccountId",o),i!==o){t.next=24;break}throw alert("Accounts must be different"),d(!0),console.error("Accounts must be different");case 24:return t.next=26,e._near.near.account(i);case 26:return f=t.sent,b=null,t.prev=28,t.t0=u.b,t.next=32,f.getAccountBalance();case 32:t.t1=t.sent.total,b=(0,t.t0)(t.t1),t.next=41;break;case 36:throw t.prev=36,t.t2=t.catch(28),alert("Account not exist - you have to create it first"),d(!0),console.error("Account not exist - you have to create it first");case 41:if(console.log(b),!(b<2.03)){t.next=46;break}throw alert("Not enough balance - should be at least 2 NEAR available (2.05 total usually works)"),d(!0),console.error("Not enough balance - should be at least 2 NEAR available");case 46:return t.next=48,f.getAccessKeys();case 48:return p=t.sent,m.a.set(e._near.lsPrevKeys,p),m.a.set(e._near.lsFavorAccountId,o),m.a.set(e._near.lsOfferAccountId,i),t.next=54,e._near.walletConnection.requestSignIn("",n,window.location.origin+"/#/offerProcess",window.location.origin+"/#/offer");case 54:case"end":return t.stop()}}),t,null,[[28,36]])})))).apply(this,arguments)}return i.a.createElement("div",{className:"container my-auto"},i.a.createElement("h1",{className:"text-center"},"Offer your account"),i.a.createElement("h2",{className:"text-center"},"Here you can offer your account to the Market. Choose an account to transfer all rewards after claiming your account."),i.a.createElement("form",{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)}},i.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},i.a.createElement("div",{className:"form-group",style:{width:"400px",margin:"25px"}},i.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Account you offer"),i.a.createElement("div",{className:"account-suffix account-suffix-"+t},i.a.createElement("input",{type:"text",className:"form-control mt-2",id:"offerInput",placeholder:"Example: satoshi"})),i.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"All your access keys will be removed"),i.a.createElement("div",{style:{margin:"25px"}}),i.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Account which takes rewards"),i.a.createElement("div",{className:"account-suffix account-suffix-"+t},i.a.createElement("input",{type:"text",className:"form-control mt-2",id:"rewardsInput",placeholder:"Example: vitalik"})),i.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"All rewards will be transferred to this account"),i.a.createElement("br",null),o?i.a.createElement("button",{className:"btn btn-outline-warning mt-5 w-100"},"Offer"):Object(u.c)()))))}},198:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(2);t.a=function(e){var t=!1,a=!1;return e.connected&&(t=e.offerFinished,a=e.offerSuccess),r.a.createElement("div",{className:"container my-auto"},r.a.createElement("h1",{className:"text-center"},"Offer processing"),t?a?r.a.createElement("h2",{className:"alert alert-success",role:"alert"},"Success!"):r.a.createElement("h2",{className:"alert alert-danger",role:"alert"},"Something went wrong"):r.a.createElement("div",null,r.a.createElement("div",{style:{margin:"25px"}}),Object(c.c)(),r.a.createElement("h2",{className:"alert alert-warning",role:"alert"},"Do not refresh or close the page"),r.a.createElement("h2",{className:"alert alert-secondary",role:"alert"},"It may take up to 5 minutes to complete")))}},199:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(8),l=a(0),s=a.n(l),i=a(18),o=a(2);t.a=function(e){var t=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o.f,t.next=3,e._near.contract.get_global_stats();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=Object(i.a)("global_stats",t,{errorRetryInterval:500}).data;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},a?s.a.createElement("div",{className:"col col-12 col-lg-8 col-xl-8"},Object(o.h)(),s.a.createElement("div",null,s.a.createElement("h3",null,"Global Stats"),s.a.createElement("ul",null,s.a.createElement("li",null,"Active profiles: ",a.numProfiles),s.a.createElement("li",null,"Bids: ",a.numBids),s.a.createElement("li",null,"Bids on claim: ",a.numBidsOnClaim),s.a.createElement("li",null,"Number of offers: ",a.numOffers),s.a.createElement("li",null,"Number of bets: ",a.numBets),s.a.createElement("li",null,"Number of claims: ",a.numClaims),s.a.createElement("li",null,"Number of acquisitions (successful claims): ",a.numAcquisitions),s.a.createElement("li",null,"Total commission: ",o.a,a.totalCommission.toFixed(2))))):s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"d-flex justify-content-center"},s.a.createElement("div",{className:"spinner-grow",role:"status"},s.a.createElement("span",{className:"visually-hidden"},"Loading..."))))))}},2:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"g",(function(){return s}));var n=a(0),r=a.n(n),c="\u24c3\u202f",l=function(e){return parseFloat(e)/1e24||0},s="//";function i(){return r.a.createElement("div",{className:"d-flex justify-content-center",key:"1"},r.a.createElement("div",{className:"spinner-grow",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading...")))}var o=function(e){return e?{isAtMarket:!0,numClaims:e.num_claims,claimedBy:e.claim_status?e.claim_status[0]:null,claimedTime:e.claim_status?e.claim_status[1]:null,bets:e.bets,betPrice:e.bet_price,claimPrice:e.claim_price,forfeit:e.forfeit,isOnAcquisition:e.on_acquisition}:{isAtMarket:!1,numClaims:0,claimedBy:null,claimedTime:null,bets:null,betPrice:0,claimPrice:0,forfeit:null,isOnAcquisition:!1}},m=function(e){return e?{participation:e.participation,acquisitions:e.acquisitions,betsVolume:l(e.bets_volume),availableRewards:l(e.available_rewards),profitTaken:l(e.profit_taken),numOffers:e.num_offers,numBets:e.num_bets,numClaims:e.num_claims,numAcquisitions:e.num_acquisitions}:{participation:[],acquisitions:[],betsVolume:l(0),availableRewards:l(0),profitTaken:l(0),numOffers:0,numBets:0,numClaims:0,numAcquisitions:0}},u=function(e){return{numProfiles:e[0],numBids:e[1],numBidsOnClaim:e[2],totalCommission:l(e[3]),numOffers:e[4],numBets:e[5],numClaims:e[6],numAcquisitions:e[7]}};function d(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Hello"),r.a.createElement("ul",null,r.a.createElement("p",null,"This is NEAR Account Marketplace. It allows you to sell, bet and buy NEAR Account names.")),r.a.createElement("h4",null,"For whom"),r.a.createElement("ul",null,r.a.createElement("p",null,"Founders \u2014 to allow you to find brilliant account names and place them onto the market for selling."),r.a.createElement("p",null,"Believers \u2014 to participate in finding fair price, taking rewards for your faithful evaluation and wisdom."),r.a.createElement("p",null,"Claimers \u2014 to obtain perfect account names for inner usage, personal collection or further resales.")),r.a.createElement("h4",null,"Basics"),r.a.createElement("ul",null,r.a.createElement("p",null,"Initial placement costs 0.3 NEAR + ~1.6 NEAR to deploy a locker contract. (The system expects at least 2 NEAR in available balance). Initial claim price is 2.5 NEAR. There are two operations available:"),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Place a bet. "),"This costs half of the current price (starts from 1.25 NEAR at initial state). The payment goes to previous believers, and the price increases for x1.2 times.")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Claim an account. "),"This costs full price. You need to wait 72 hours to make sure no one wants to bet on the account. If someone will bet within 72 hours, you will receive all your funds back plus forfeits paid by believer who bets. If no one will bet, the account is totally yours, congratulations!"))),r.a.createElement("h4",null,"Rewards for bets"),r.a.createElement("ul",null,r.a.createElement("p",null,"Each new bet triggers the reward distribution function for previous believers. This means, if you even bet only once, you will receive rewards multiple times. The function converges to 25% rewards for each bet."),r.a.createElement("p",null,r.a.createElement("i",null,"Example. Let's say, you bet 1.8 NEAR for ",r.a.createElement("strong",null,"apple.near"),". In a couple days its price has been increased by series of bets, and you have been received 2.25 NEAR rewards for that bet in total."))),r.a.createElement("h4",null,"Rewards for claims"),r.a.createElement("ul",null,r.a.createElement("p",null,"Claim is the most important and unique procedure as it finalizes the lifetime of account on the market. The rewards for the successful claim are the biggest."),r.a.createElement("p",null,"First of all, the founder of the account gets 25% of claim price as additional reward. It means, even not betting at all, it's still possible to take huge rewards by bringing awesome account names to the market."),r.a.createElement("p",null,r.a.createElement("i",null,"Due to importance of claiming accounts, as it helps for the main purpose of the project, the marketplace takes zero commission for claiming."))),r.a.createElement("h4",null,"How to claim rewards"),r.a.createElement("ul",null,r.a.createElement("p",null,'Claiming rewards and sending it to the wallet is performed by the "Collect rewards" button in the profile page.')),r.a.createElement("h4",null,"Commission"),r.a.createElement("ul",null,r.a.createElement("p",null,"Marketplace takes 5% commission for each bet plus small constant for initial placement (0.3 NEAR)."),r.a.createElement("p",null,"Marketplace takes 2.5% commission in addition, in case of betting for account which is under claiming. This is necessary to prevent holding the account with no willing to actually claim it. Strategies that disturbing market in such way are not welcomed as they diverge with the purpose of the marketplace."),r.a.createElement("p",null,"Marketplace takes zero commission for claim.")),r.a.createElement("h4",null,"Forfeits"),r.a.createElement("ul",null,r.a.createElement("p",null,"Forfeit is an additional cost for placing a bet while the account is under claiming. Its value grows linearly from 0% at the moment when claim requested, and up to 2.5% at the end of 72-hours period. Forfeits are paid to claimers directly. The purpose of forfeit is to pay for claimers' willing to obtain an account.")),r.a.createElement("h4",null,"Specific cases"),r.a.createElement("ul",null,r.a.createElement("p",null,"Knowing the mechanics, try to find your personal way to reach the maximal value. There are couple examples that may help you."),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Using multiple accounts and place series of bets. "),"As all Believers behind their accounts are anonymous, you can use multiple accounts while betting. That's why there is no reason to disallow to bet multiple times from the same account - you can simply bet from another one. You may use this trick if you want to hide your interest or intentions by spreading up your bets between multiple accounts.")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Sell the account for the full price. "),"If you are sure about fair price, you shouldn't wait until others bet. You can simply bet as many times as necessary to increase the price up to the value that makes sense to you. In this case you will take at least 87.5% rewards taken from claimer directly, not sharing with anyone.")),r.a.createElement("p",null,"Also mechanics is tuned in such way to make sure it's impossible to take less than you bet.")),r.a.createElement("h4",null,"Account acquiring procedure"),r.a.createElement("ul",null,r.a.createElement("p",null,r.a.createElement("li",null,"(For experts) Replace public key."),r.a.createElement("li",null,"Put seed phrase."),"After acquiring you can remove a contract and return its cost back (~1.6 NEAR).")),r.a.createElement("h4",null,"Example of distribution"),r.a.createElement("ul",null,r.a.createElement("p",null,"The following spreadsheet shows rewards distribution for an account that has been bet for 15 times and claimed afterwards. 0-th bet means initial offering from founder, all other lines correspond to bets."),r.a.createElement("p",null,r.a.createElement("samp",null,"Sum of bets + placement: 90.3439",r.a.createElement("br",null),"Total paid: 128.8614",r.a.createElement("br",null),"Commission: 4.8022",r.a.createElement("br",null),"Rewards after claim:",r.a.createElement("br",null),"0 bet:  0.3000,  rewards:  11.5044,   ratio:  38.3480",r.a.createElement("br",null),"1 bet:  1.2500,  rewards:  1.5625,   ratio:  1.2500",r.a.createElement("br",null),"2 bet:  1.5000,  rewards:  1.8750,   ratio:  1.2500",r.a.createElement("br",null),"3 bet:  1.8000,  rewards:  2.2500,   ratio:  1.2500",r.a.createElement("br",null),"4 bet:  2.1600,  rewards:  2.7000,   ratio:  1.2500",r.a.createElement("br",null),"5 bet:  2.5920,  rewards:  3.2399,   ratio:  1.2499",r.a.createElement("br",null),"6 bet:  3.1104,  rewards:  3.8875,   ratio:  1.2499",r.a.createElement("br",null),"7 bet:  3.7325,  rewards:  4.6641,   ratio:  1.2496",r.a.createElement("br",null),"8 bet:  4.4790,  rewards:  5.5938,   ratio:  1.2489",r.a.createElement("br",null),"9 bet:  5.3748,  rewards:  6.7027,   ratio:  1.2471",r.a.createElement("br",null),"10 bet:  6.4497,  rewards:  8.0118,   ratio:  1.2422",r.a.createElement("br",null),"11 bet:  7.7397,  rewards:  9.5183,   ratio:  1.2298",r.a.createElement("br",null),"12 bet:  9.2876,  rewards:  11.1487,   ratio:  1.2004",r.a.createElement("br",null),"13 bet:  11.1451,  rewards:  12.7271,   ratio:  1.1419",r.a.createElement("br",null),"14 bet:  13.3742,  rewards:  14.6001,   ratio:  1.0917",r.a.createElement("br",null),"15 bet:  16.0490,  rewards:  24.0735,   ratio:  1.5000",r.a.createElement("br",null),"Sum of rewards: 124.0592"))))}},200:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(8),l=a(19),s=a(0),i=a.n(s),o=a(5),m=a(7),u=a(18),d=a(57),f=a(2);t.a=function(e){var t=Object(o.f)().profileId,a=Object(s.useState)(!1),n=Object(l.a)(a,2),b=n[0],p=n[1],h=Object(s.useState)(!0),E=Object(l.a)(h,2),g=E[0],v=E[1];function y(){return(y=Object(c.a)(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),v(!1),I=!0,N.profitTaken+=N.availableRewards,N.availableRewards=0,a.next=7,Object(u.b)(["profile_id",t],N,!1);case 7:e._near.contract.collect_rewards({},"200000000000000",0),v(!0);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var w=function(){var t=Object(c.a)(r.a.mark((function t(){var a=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f.e,t.next=3,e._near.contract.get_profile({profile_id:a.length<=1?void 0:a[1]});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=Object(u.a)(["profile_id",t],w,{errorRetryInterval:500}).data,x=null,k=null;e.connected&&N&&(x=N.acquisitions.map((function(t){return i.a.createElement(d.a,Object.assign({},e,{key:t,bidId:t}))})),k=N.participation.map((function(t){return i.a.createElement(d.a,Object.assign({},e,{key:t,bidId:t}))})));var _=i.a.createElement("div",{className:"d-flex justify-content-center",key:"loader"},i.a.createElement("div",{className:"spinner-grow",role:"status"},i.a.createElement("span",{className:"visually-hidden"},"Loading..."))),I=N&&N.availableRewards<.1,O=I?"":"my-green-big";return e.connected&&N?i.a.createElement("div",{className:"pb-3"},i.a.createElement("div",{className:"container g-0 px-5"},i.a.createElement("div",{className:"d-flex flex-row bd-highlight mb-3"},i.a.createElement("div",{className:"py-2 bd-highlight my-gray"},i.a.createElement("h5",null,f.g," profile")),i.a.createElement("div",{className:"p-2 bd-highlight"}),i.a.createElement("div",{className:"p-2 bd-highlight"},i.a.createElement("h5",null,f.g," ",t))),i.a.createElement("div",{className:"mb-3 py-2"},i.a.createElement("h4",null,"Stats")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},"Bets volume:"),i.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},f.a,N.betsVolume.toFixed(2))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},"Profit taken:"),i.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},f.a,N.profitTaken.toFixed(2))),i.a.createElement("div",{className:"row justify-content-start"},i.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},"Available rewards:"),i.a.createElement("div",{className:"col-2 ".concat(O),style:{minWidth:"200px"}},f.a,N.availableRewards.toFixed(2))),t===e.signedAccountId?i.a.createElement("div",{style:{marginTop:"25px",maxWidth:"320px"}},g?i.a.createElement("button",{className:"btn btn-warning w-100",disabled:I,onClick:function(e){return function(e){return y.apply(this,arguments)}(e)}},"Collect rewards"):_,I&&i.a.createElement("div",null,i.a.createElement("small",{className:"gray"},"Accumulate at least ",f.a,"0.1 to collect rewards"))):i.a.createElement("div",null),i.a.createElement("div",{style:{marginTop:"25px"}}),i.a.createElement("div",null,i.a.createElement("small",{className:"gray"},"Number of offers: ",N.numOffers)),i.a.createElement("div",null,i.a.createElement("small",{className:"gray"},"Number of bets: ",N.numBets)),i.a.createElement("div",null,i.a.createElement("small",{className:"gray"},"Number of claims: ",N.numClaims)),i.a.createElement("div",null,i.a.createElement("small",{className:"gray"},"Number of acquisitions (successful claims): ",N.numAcquisitions)),i.a.createElement("hr",null)),i.a.createElement("div",{className:"container g-0 px-5"},i.a.createElement("div",{className:"d-flex flex-row bd-highlight mb-3"},i.a.createElement("div",{className:"py-2 bd-highlight"},b?i.a.createElement("h5",null,i.a.createElement(m.b,{className:"navigate",to:"#",onClick:function(e){e.preventDefault(),p(!1)}},"Participating (",N.participation.length,")")):i.a.createElement("h5",{className:"nonavigate"},"Participating (",N.participation.length,")")),i.a.createElement("div",{className:"p-2 bd-highlight"}),i.a.createElement("div",{className:"p-2 bd-highlight"},b?i.a.createElement("h5",{className:"nonavigate"},"Successful claims (",N.acquisitions.length,")"):i.a.createElement("h5",null,i.a.createElement(m.b,{className:"navigate",to:"#",onClick:function(e){e.preventDefault(),p(!0)}},"Successful claims (",N.acquisitions.length,")"))))),i.a.createElement("div",{className:"container g-0 px-5"},b?x||_:k||_)):_}},201:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(8),l=a(19),s=a(0),i=a.n(s),o=a(5),m=a(110),u=a(2);t.a=function(e){var t=Object(o.f)().bidId,a=Object(s.useState)(!0),n=Object(l.a)(a,2),d=n[0],f=n[1],b=Object(s.useState)(!1),p=Object(l.a)(b,2),h=p[0],E=p[1],g=Object(s.useState)(Object(m.generateSeedPhrase)().seedPhrase),v=Object(l.a)(g,2),y=v[0],w=v[1],N=Object(s.useState)(!1),x=Object(l.a)(N,2),k=x[0],_=x[1];function I(){return(I=Object(c.a)(r.a.mark((function a(n){var c,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),f(!1),c=document.getElementById("acquireSeedPhrase").value,console.log(c),l=Object(m.parseSeedPhrase)(c,"").publicKey,console.log(l),a.next=8,e._near.contract.acquire({bid_id:t,new_public_key:l},"200000000000000","0");case 8:w(c),_(!0),E(!0);case 11:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function O(){return(O=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),f(!1),c=document.getElementById("acquirePublicKey").value,console.log(c),a.next=6,e._near.contract.acquire({bid_id:t,new_public_key:c},"200000000000000","0");case 6:E(!0);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var A=e._near.config.walletUrl+"/recover-seed-phrase";return h?i.a.createElement("div",{className:"container my-auto"},i.a.createElement("h1",{className:"text-center"},"Acquire ",t),i.a.createElement("h2",{className:"alert alert-success",role:"alert"},"Contract instruction has been sent."),k&&i.a.createElement("div",null,i.a.createElement("h2",null,"Seed phrase used:"),i.a.createElement("h2",{className:"alert alert-info",role:"alert"},y)),k&&i.a.createElement("h2",null,"Go to ",i.a.createElement("a",{href:A},"wallet")," and restore your account")):i.a.createElement("div",{className:"container my-auto"},i.a.createElement("h1",{className:"text-center"},"Acquire ",t),i.a.createElement("h2",{className:"text-center"},"Do it easy way or like a pro?"),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:function(e){return function(e){return I.apply(this,arguments)}(e)}},i.a.createElement("h3",{className:"text-center"},"Use a seed phrase"),i.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},i.a.createElement("div",{className:"form-group",style:{width:"600px",margin:"25px"}},i.a.createElement("div",null,"Save this randomly generated seed phrase or choose your own"),i.a.createElement("div",null,i.a.createElement("input",{type:"text",className:"form-control mt-2",id:"acquireSeedPhrase",placeholder:"Example: van honey cattle trend garbage human cereal donor pipe you response gym ",defaultValue:y})),e.connected&&d?i.a.createElement("button",{disabled:!e.signedIn,className:"btn btn-outline-warning my-3 w-100"},"Acquire using seed phrase"):i.a.createElement("div",{className:"my-3 w-100"},Object(u.c)())))),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:function(e){return function(e){return O.apply(this,arguments)}(e)}},i.a.createElement("h3",{className:"text-center"},"or \u2014 Transfer your public key"),i.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},i.a.createElement("div",{className:"form-group",style:{width:"600px",margin:"25px"}},i.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Put your base58 public key"),i.a.createElement("div",null,i.a.createElement("input",{type:"text",className:"form-control mt-2",id:"acquirePublicKey",placeholder:"Example: 9bk1tm45X2hBSffmD65pA2vch862jtcz75mkRR7MXNVj"})),e.connected&&d?i.a.createElement("button",{disabled:!e.signedIn,className:"btn btn-outline-warning my-3 w-100"},"Acquire using new public key"):i.a.createElement("div",{className:"my-3 w-100"},Object(u.c)())))))}},202:function(e,t,a){"use strict";a(395);var n=a(0),r=a.n(n),c=a(47),l=a(7),s=a(203),i=a.n(s),o=a(204),m=a.n(o),u=a(205),d=a.n(u),f=a(206),b=a.n(f),p=a(207),h=a.n(p),E=a(208),g=a.n(E),v=a(2);t.a=function(e){var t={width:"64px"};return r.a.createElement("div",{className:"container g-0"},r.a.createElement(c.a,{style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"absolute",opacity:.4},fluid:!0,src:i.a}),r.a.createElement(c.a,{style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"absolute",opacity:.4,width:"25%",left:"20%",top:"33%"},fluid:!0,src:d.a}),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("div",{className:"container content"},r.a.createElement("div",{className:"row justify-content-evenly"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"huge"},v.g," The easiest way to get a cool account name :)"),r.a.createElement("div",{style:{margin:"15%"}})))),r.a.createElement("div",{className:"text-center"},r.a.createElement("h6",{className:"gray"},"Non-profitable project for NEAR ecosystem"),r.a.createElement("h3",null,"For whom NEAR Accounts Marketplace has been built?")),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("section",{className:"features-icons text-center det-ails"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3"},r.a.createElement("div",{className:"position-relative py-5"},r.a.createElement("div",{className:"top-50 start-50  py-3 px-3 translate-middle",style:{borderRadius:"50%",position:"absolute",backgroundColor:"#616E5C"}},r.a.createElement(c.a,{class:"position-absolute",fluid:!0,src:b.a,style:t}))),r.a.createElement("h3",{className:"py-3"},"Founders"),r.a.createElement("h2",{className:"gray"},"Find brilliant account names and place them onto the market for rewards"))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3"},r.a.createElement("div",{className:"position-relative py-5"},r.a.createElement("div",{className:"top-50 start-50  py-3 px-3 translate-middle",style:{borderRadius:"50%",position:"absolute",backgroundColor:"#616E5C"}},r.a.createElement(c.a,{class:"position-absolute",fluid:!0,src:h.a,style:t}))),r.a.createElement("h3",{className:"py-3"},"Believers"),r.a.createElement("h2",{className:"gray"},"Participate in finding fair price, earn for your faithful evaluation and wisdom"))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",{className:"features-icons-item mx-auto mb-0 mb-lg-3"},r.a.createElement("div",{className:"position-relative py-5"},r.a.createElement("div",{className:"top-50 start-50  py-3 px-3 translate-middle",style:{borderRadius:"50%",position:"absolute",backgroundColor:"#616E5C"}},r.a.createElement(c.a,{class:"position-absolute",fluid:!0,src:g.a,style:t}))),r.a.createElement("h3",{className:"py-3"},"Claimers"),r.a.createElement("h2",{className:"gray"},"Obtain perfect account names for inner usage, personal collection or further resale")))))),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,v.g," Account",r.a.createElement("a",{className:"navigate",href:"https://explorer.near.org/transactions/384XdCNfpgzSRXTFKGSkBeSf5EPNuc5GJxnaRkE89JCi"},r.a.createElement("samp",{className:"mx-2"},"near.near")),"has been successfully claimed for ",v.a,"138"),r.a.createElement("h6",{className:"gray"},"How else the market can surprise us?")),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("hr",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("h1",null,v.g," Two basic operations on the account names of the Marketplace "),r.a.createElement("div",{className:"text-center"},r.a.createElement(l.b,{className:"btn btn-lg btn-secondary mt-4",to:"/rules"},"Dive into rules"))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"row align-items-center my-5"},r.a.createElement("div",{className:"col-3"},r.a.createElement("h3",null,"Bet:")),r.a.createElement("div",{className:"col py-3"},r.a.createElement("h5",{className:"gray"},"if you guess the account name is undervalued and will be claimed for higher price \u2014 it brings you up to 50% profit "))),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-3"},r.a.createElement("h3",null,"Claim:")),r.a.createElement("div",{className:"col py-3"},r.a.createElement("h5",{className:"gray"},"if you want to obtain the account name for yourself and no one will overbid you in the next 72 hours ")))))),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("hr",null),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("section",{className:"features-icons text-center det-ails"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3"},r.a.createElement("h3",{className:"py-3"},"Watch live contract review"),r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{className:"embed-responsive-item",allow:"fullscreen;",src:"https://www.youtube.com/embed/6OhkQOab-Is?rel=0",allowfullscreen:!0})))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h3",{className:"pt-3"},"Articles"),r.a.createElement("div",{className:"mb-3"},"by 4NTS guild"),r.a.createElement("div",{className:"mb-3"},r.a.createElement("a",{className:"navigate",href:"https://medium.com/nearprotocol/a-long-awaited-near-account-marketplace-has-arrived-9dab3ca9db17"},r.a.createElement("h6",null,"A Long Awaited NEAR Account Marketplace Has Arrived"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("a",{className:"navigate",href:"https://medium.com/nearprotocol/near-account-marketplace-ama-with-alexander-kouprin-1c52bbf9521d"},r.a.createElement("h6",null,"NEAR Account Marketplace AMA with Alexander Kouprin"))),r.a.createElement("h3",{className:"pt-3"},"Source code"),r.a.createElement("div",{className:"mb-3"},r.a.createElement("a",{className:"navigate",href:"https://github.com/kouprin/accounts-marketplace"},r.a.createElement("h6",null,"Available at GitHub"))))))),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("hr",null),r.a.createElement("div",{style:{margin:"5%"}}),r.a.createElement("div",{className:"container text-center",style:{paddingTop:"10vh",paddingBottom:"50vh"}},r.a.createElement("h1",null,v.g," Interested?"),r.a.createElement("div",{className:"row justify-content-evenly align-items-center"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-3 pt-5"},r.a.createElement(c.a,{style:{opacity:.7},fluid:!0,src:m.a}),r.a.createElement("h5",null,"Gimme that account!")),r.a.createElement("div",{className:"col-3 pb-5"},r.a.createElement(l.b,{className:"btn btn-lg btn-success mt-3",to:"/bets"},"Jump to the market")),r.a.createElement("div",{className:"col-1"}))))}},203:function(e,t,a){e.exports=a.p+"static/media/lines.f8742393.png"},204:function(e,t,a){e.exports=a.p+"static/media/croco.485b5e4c.png"},205:function(e,t,a){e.exports=a.p+"static/media/croco2.ca0e49d1.png"},206:function(e,t,a){e.exports=a.p+"static/media/founders.21a77b0c.svg"},207:function(e,t,a){e.exports=a.p+"static/media/believers.262a4742.svg"},208:function(e,t,a){e.exports=a.p+"static/media/claimers.a043f265.svg"},212:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(8),l=a(0),s=a.n(l),i=a(5),o=a(30),m=a(111),u=a.n(m),d=a(7),f=a(18),b=a(2);function p(e){var t=e.bidInfo.betPrice,a=e.bidInfo.forfeit,n=Object(b.b)(t)+Object(b.b)(a);function l(){return(l=Object(c.a)(r.a.mark((function t(c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),console.log(String(1e9*n)+"000000000000000"),!(a<.001)){t.next=7;break}return t.next=5,e._near.contract.bet({bid_id:e.bidId},"200000000000000",String(parseInt(1e9*(n+1e-5)))+"000000000000000");case 5:t.next=9;break;case 7:return t.next=9,e._near.contract.bet({bid_id:e.bidId},"200000000000000",String(parseInt(1.001*(n+1e-5)*1e9))+"000000000000000");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s.a.createElement("button",{className:"btn btn-success w-100 mb-2",disabled:!e.signedIn||!e.isSafe,onClick:function(e){return function(e){return l.apply(this,arguments)}(e)}},"Bet for ",b.a,n.toFixed(6))}function h(e){var t=e.bidInfo.claimedBy,a=Object(b.b)(e.bidInfo.claimPrice);function n(){return(n=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log(String(1e9*a)+"000000000000000"),t.next=4,e._near.contract.claim({bid_id:e.bidId},"200000000000000",String(parseInt(1e9*(a+1e-5)))+"000000000000000");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t?s.a.createElement("button",{className:"btn btn-outline-warning w-100",disabled:!0},"Already claimed - you can only bet"):s.a.createElement("button",{className:"btn btn-warning w-100",disabled:!e.signedIn||!e.isSafe,onClick:function(e){return function(e){return n.apply(this,arguments)}(e)}},"Claim for ",b.a,a.toFixed(6))}function E(e){function t(){return(t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._near.contract.finalize({bid_id:e.bidId},"200000000000000","0");case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=e.signedIn&&e.bidInfo&&e.signedAccountId&&e.signedAccountId===e.bidInfo.claimedBy;return!e.signedIn||!e.isSafe?s.a.createElement("button",{className:"btn btn-warning w-100",disabled:!0},"Finalize"):s.a.createElement(d.b,{to:a?"/acquire/".concat(e.bidId):"/profile/".concat(e.signedAccountId),className:"btn btn-warning w-100",onClick:function(e){return function(e){return t.apply(this,arguments)}(e)}},"Finalize")}function g(e){return s.a.createElement(d.b,{className:"btn btn-warning w-100",to:"/acquire/".concat(e.bidId)},"Acquire")}t.a=function(e){var t=Object(i.f)().bidId,a=function(){var t=Object(c.a)(r.a.mark((function t(){var a=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=b.d,t.next=3,e._near.contract.get_bid({bid_id:a.length<=1?void 0:a[1]});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(c.a)(r.a.mark((function t(){var a,n,c,l,s,i,m,u=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length<=1?void 0:u[1],t.next=3,e._near.near.account(a);case 3:return n=t.sent,t.prev=4,t.next=7,n.state();case 7:return c=t.sent.code_hash,t.next=10,n.getAccessKeys();case 10:return l=t.sent.length,t.next=13,new o.Contract(n,a,{viewMethods:["get_owner"],changeMethods:[]});case 13:return s=t.sent,t.next=16,s.get_owner({});case 16:return i=t.sent,t.next=19,n.getAccountBalance();case 19:return m=t.sent.total,t.abrupt("return",{codeHash:c,accessKeysLen:l,lockerOwner:i,balance:m});case 23:t.prev=23,t.t0=t.catch(4),console.log("check safety error",t.t0);case 26:return t.abrupt("return",{codeHash:"(unknown)",accessKeysLen:"(unknown)",lockerOwner:"(not found)",balance:0});case 27:case"end":return t.stop()}}),t,null,[[4,23]])})));return function(){return t.apply(this,arguments)}}(),l=Object(f.a)(["bid_id",t],a,{errorRetryInterval:250}).data,m=Object(f.a)(["bid_id_safety",t],n,{errorRetryInterval:250}).data,v=!!l&&!!m,y=v&&(!l.isAtMarket||"DKUq738xnns9pKjpv9GifM68UoFSmfnBYNp3hsfkkUFa"===m.codeHash&&0===m.accessKeysLen&&m.lockerOwner===e._near.config.contractName),w=m&&Object(b.b)(m.balance),N=null,x=null;l&&(x=parseInt(l.claimedTime/1e6),N=new Intl.DateTimeFormat("UK",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(x));var k=l&&l.bets&&l.bets[0],_=l&&l.bets&&l.bets.slice(1).map((function(e,t){return s.a.createElement("div",{key:t,className:"row"},s.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},s.a.createElement(d.b,{className:"nonavigate",to:"/profile/".concat(e)},e)),s.a.createElement("div",{className:"col-2",style:{minWidth:"200px"}},b.a,(1.25*Math.pow(1.2,t)).toFixed(2)))})),I=function(){var t=Object(c.a)(r.a.mark((function t(){var a=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=b.e,t.next=3,e._near.contract.get_profile({profile_id:a.length<=1?void 0:a[1]});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(f.a)(["profile_id",e._near.accountId],I,{errorRetryInterval:500}).data,A=!1;e.signedIn&&O&&O.acquisitions.forEach((function(e){t===e&&(A=!0)}));var j=l&&l.claimPrice&&w>Object(b.b)(l.claimPrice),S=l&&l.isAtMarket&&!l.isOnAcquisition,C=l&&l.isAtMarket&&l.isOnAcquisition,B=l&&!l.isAtMarket&&A;return u.a.startPooledTimer(1e3),e.connected&&v?s.a.createElement("div",null,s.a.createElement("div",{className:"container g-0 px-5"},s.a.createElement("div",{className:"d-flex flex-row bd-highlight mb-3"},s.a.createElement("div",{className:"py-2 bd-highlight my-gray"},s.a.createElement("h5",null,b.g," bid")),s.a.createElement("div",{className:"p-2 bd-highlight"}),s.a.createElement("div",{className:"p-2 bd-highlight"},s.a.createElement("h5",null,b.g," ",t))),y?s.a.createElement("div",null,s.a.createElement("div",null,l.claimedBy?s.a.createElement("div",{className:"mb-3 py-2"},s.a.createElement("div",null,"Claimed by ",s.a.createElement(d.b,{className:"nonavigate",to:"/profile/".concat(l.claimedBy)},l.claimedBy)),s.a.createElement("small",{className:"gray"},"Claimed time: ",N),S?s.a.createElement("div",{className:"d-flex flex-row bd-highlight mt-3"},s.a.createElement("div",{className:"py-2 bd-highlight"},"Will be successfully claimed after"),s.a.createElement("div",{className:"p-2 bd-highlight"}),s.a.createElement("div",{className:"p-2 bd-highlight my-green-big h5"},s.a.createElement(u.a,{date:x,format:"hh:mm:ss",add:{seconds:e._near.claimPeriod},durationFromNow:!0}))):s.a.createElement("div",null)):l.isAtMarket?s.a.createElement("div",{className:"mb-3 py-2"},"Not claimed yet"):s.a.createElement("div",{className:"mb-3 py-2"},"Not here yet. Is it a good fit?")),s.a.createElement("div",{style:{maxWidth:"400px"}},S&&s.a.createElement(p,Object.assign({},e,{bidId:t,bidInfo:l,isSafe:y})),S&&s.a.createElement(h,Object.assign({},e,{bidId:t,bidInfo:l,isSafe:y})),C&&s.a.createElement(E,Object.assign({},e,{bidId:t,bidInfo:l,isSafe:y})),B&&s.a.createElement(g,Object.assign({},e,{bidId:t,bidInfo:l,isSafe:y})),s.a.createElement("div",{className:"pt-3"},"Bid balance: ",b.a,w.toFixed(2)),j?s.a.createElement("div",{className:"my-green-big pb-2"},"PROFITABLE! ",s.a.createElement("span",{className:"small"},"Bid balance is higher than claim price")):s.a.createElement("div",null),s.a.createElement("div",{className:"small gray"},"You will possess all bid balance in case of successful claim")),s.a.createElement("hr",null),S&&s.a.createElement("div",{className:"small"},s.a.createElement("div",{className:"pb-2"},"What do the buttons mean?"),s.a.createElement("div",{className:"gray"},"When you believe the bid is underestimated and will be claimed for higher price, choose \xabBet\xbb option. "),s.a.createElement("div",{className:"gray"},"You will receive rewards for each bet on top of yours, or for successful claim \u2014 up to 50%.  "),s.a.createElement("div",{className:"gray pt-2"},"When you want to claim the bid, choose \xabClaim\xbb option."),s.a.createElement("div",{className:"gray"},"If no one overbid you in the next 72 hours, the bid will be yours."),s.a.createElement("div",{className:"gray pt-2"},"Dive into ",s.a.createElement(d.b,{to:"/rules"},"the rules")," for more details."),s.a.createElement("hr",null)),l.isAtMarket&&s.a.createElement("div",null,s.a.createElement("div",{className:"mb-3 py-2"},s.a.createElement("h5",null,"Competitors")),s.a.createElement("div",{className:"mb-2"},s.a.createElement("div",null,"Founded by: ",s.a.createElement(d.b,{className:"nonavigate",to:"/profile/".concat(k)},k))),_)):s.a.createElement("div",{className:"mb-3 py-2"},s.a.createElement("h4",null,"Account is not considered safe. What does it mean?"),s.a.createElement("div",{className:"pb-4"},"You are suggested not to participate with the bid."),s.a.createElement("div",null,"The validation consist of three steps to make sure everything is going properly under smart contract rules:"),s.a.createElement("li",{className:"small"},'There must be a contract deployed onto the bid with hash equal to "DKUq738xnns9pKjpv9GifM68UoFSmfnBYNp3hsfkkUFa"'),s.a.createElement("li",{className:"small"},"There must be no access keys"),s.a.createElement("li",{className:"small"},"Owner of the locker must be equal to the account of the Marketplace ",e._near.config.contractName),s.a.createElement("div",{className:"py-4"},"The following conditions are found:"),s.a.createElement("li",{className:"small"},'Hash of the contract is "',m.codeHash,'"'),s.a.createElement("li",{className:"small"},"There are ",m.accessKeysLen," keys found"),s.a.createElement("li",{className:"small"},"Owner of the locker is ",m.lockerOwner)))):Object(b.c)()}},213:function(e,t,a){e.exports=a(214)},214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(190),l=a.n(c),s=(a(219),a(191));l.a.render(r.a.createElement(s.a,null),document.getElementById("root"))},219:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},252:function(e,t){},256:function(e,t){},271:function(e,t){},273:function(e,t){},290:function(e,t){},306:function(e,t){},308:function(e,t){},341:function(e,t){},342:function(e,t){},347:function(e,t){},349:function(e,t){},356:function(e,t){},375:function(e,t){},395:function(e,t,a){},57:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(8),l=a(0),s=a.n(l),i=a(7),o=a(18),m=a(2);function u(e){return s.a.createElement("div",null,s.a.createElement(i.b,{to:"/acquire/".concat(e.bidId),className:"btn w-100 btn-success"},"Acquire"))}function d(e){return s.a.createElement(i.b,{className:"btn w-100 btn-success",to:"/bid/".concat(e.bidId)},"Starts\xa0from ",m.a,(Object(m.b)(e.price)+Object(m.b)(e.forfeit)).toFixed(2))}function f(e){return s.a.createElement(i.b,{to:"/bid/".concat(e.bidId),className:"btn w-100 btn-success"},"Details")}function b(e){var t=e.bidId,a=function(){var t=Object(c.a)(r.a.mark((function t(){var a=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=m.d,t.next=3,e._near.contract.get_bid({bid_id:a.length<=1?void 0:a[1]});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(c.a)(r.a.mark((function t(){var a,n=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._near.near.account(n.length<=1?void 0:n[1]);case 2:return a=t.sent,t.next=5,a.getAccountBalance();case 5:return t.abrupt("return",t.sent.total);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=Object(o.a)(["bid_id",t],a,{errorRetryInterval:100}).data,b=Object(o.a)(["bid_balance",t],n,{errorRetryInterval:100}).data,p=l&&l.bets&&l.bets.length>2?"bets":"bet",h=window.innerWidth<800?"120px":"300px",E=l&&l.claimPrice&&Object(m.b)(b)>Object(m.b)(l.claimPrice);return l?s.a.createElement("div",{className:"pt-3"},s.a.createElement("div",{className:"d-flex flex-row w-100 align-items-center",style:{maxWidth:"640px"}},s.a.createElement("div",{className:"d-flex flex-row justify-content-between w-100"},s.a.createElement(i.b,{to:"/bid/".concat(t),style:{textDecoration:"none",color:"white"}},t),E?s.a.createElement("small",{className:"text-end ps-1 my-green-big"},"profitable!"):l.claimedBy?s.a.createElement("small",{className:"text-end ps-1 my-gray"},"claimed\xa0by ",s.a.createElement(i.b,{className:"navigate",to:"/profile/".concat(l.claimedBy)},l.claimedBy)):l.bets&&l.bets.length>1&&s.a.createElement("small",{className:"text-end ps-1 my-gray"},l.bets.length-1,"\xa0",p)),s.a.createElement("div",{className:"ps-2",style:{width:h}},l.isAtMarket?l.isOnAcquisition?s.a.createElement(f,Object.assign({},e,{bidId:t})):s.a.createElement(d,Object.assign({},e,{bidId:t,price:l.betPrice,forfeit:l.forfeit})):s.a.createElement(u,Object.assign({},e,{bidId:t}))))):Object(m.c)()}a.d(t,"a",(function(){return b}))}},[[213,1,2]]]);
//# sourceMappingURL=main.0a4129ad.chunk.js.map